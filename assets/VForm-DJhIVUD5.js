import{p as O,m as W,g as D,e as y,j as T,k as r,S as H,T as Q,I as k,U as A,c as ie,X as re,ao as se,Q as oe,y as $,t as ue,z as ce,l as de,F as fe,B as ve,cs as me,cy as he}from"./index-C9EGUzEu.js";import{d as ge,c as be}from"./index-DbaY54ml.js";import{q as ye,M as xe,C as Ce,c as we,r as pe,g as Pe,d as Fe,p as Re,L as _e,h as Ve}from"./index-BoMQS8X6.js";import{b as Ie,c as Be,u as Se,d as $e,e as Le,f as Oe}from"./VInput-_--fWdnS.js";class L{constructor(l){let{x:a,y:i,width:t,height:n}=l;this.x=a,this.y=i,this.width=t,this.height=n}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function He(e,l){return{x:{before:Math.max(0,l.left-e.left),after:Math.max(0,e.right-l.right)},y:{before:Math.max(0,l.top-e.top),after:Math.max(0,e.bottom-l.bottom)}}}function Qe(e){return Array.isArray(e)?new L({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function We(e){const l=e.getBoundingClientRect(),a=getComputedStyle(e),i=a.transform;if(i){let t,n,s,c,o;if(i.startsWith("matrix3d("))t=i.slice(9,-1).split(/, /),n=+t[0],s=+t[5],c=+t[12],o=+t[13];else if(i.startsWith("matrix("))t=i.slice(7,-1).split(/, /),n=+t[0],s=+t[3],c=+t[4],o=+t[5];else return new L(l);const u=a.transformOrigin,d=l.x-c-(1-n)*parseFloat(u),f=l.y-o-(1-s)*parseFloat(u.slice(u.indexOf(" ")+1)),b=n?l.width/n:e.offsetWidth+1,g=s?l.height/s:e.offsetHeight+1;return new L({x:d,y:f,width:b,height:g})}else return new L(l)}function De(e,l,a){if(typeof e.animate>"u")return{finished:Promise.resolve()};let i;try{i=e.animate(l,a)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(t=>{i.onfinish=()=>{t(i)}})),i}const Te="cubic-bezier(0.4, 0, 0.2, 1)",Ye="cubic-bezier(0.0, 0, 0.2, 1)",Ge="cubic-bezier(0.4, 0, 1, 1)",E=Symbol("Forwarded refs");function M(e,l){let a=e;for(;a;){const i=Reflect.getOwnPropertyDescriptor(a,l);if(i)return i;a=Object.getPrototypeOf(a)}}function ke(e){for(var l=arguments.length,a=new Array(l>1?l-1:0),i=1;i<l;i++)a[i-1]=arguments[i];return e[E]=a,new Proxy(e,{get(t,n){if(Reflect.has(t,n))return Reflect.get(t,n);if(!(typeof n=="symbol"||n.startsWith("$")||n.startsWith("__"))){for(const s of a)if(s.value&&Reflect.has(s.value,n)){const c=Reflect.get(s.value,n);return typeof c=="function"?c.bind(s.value):c}}},has(t,n){if(Reflect.has(t,n))return!0;if(typeof n=="symbol"||n.startsWith("$")||n.startsWith("__"))return!1;for(const s of a)if(s.value&&Reflect.has(s.value,n))return!0;return!1},set(t,n,s){if(Reflect.has(t,n))return Reflect.set(t,n,s);if(typeof n=="symbol"||n.startsWith("$")||n.startsWith("__"))return!1;for(const c of a)if(c.value&&Reflect.has(c.value,n))return Reflect.set(c.value,n,s);return!1},getOwnPropertyDescriptor(t,n){var c;const s=Reflect.getOwnPropertyDescriptor(t,n);if(s)return s;if(!(typeof n=="symbol"||n.startsWith("$")||n.startsWith("__"))){for(const o of a){if(!o.value)continue;const u=M(o.value,n)??("_"in o.value?M((c=o.value._)==null?void 0:c.setupState,n):void 0);if(u)return u}for(const o of a){const u=o.value&&o.value[E];if(!u)continue;const d=u.slice();for(;d.length;){const f=d.shift(),b=M(f.value,n);if(b)return b;const g=f.value&&f.value[E];g&&d.push(...g)}}}}})}const Ae=O({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...W(),...ye({transition:{component:ge}})},"VCounter"),Je=D()({name:"VCounter",functional:!0,props:Ae(),setup(e,l){let{slots:a}=l;const i=y(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return T(()=>r(xe,{transition:e.transition},{default:()=>[H(r("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[a.default?a.default({counter:i.value,max:e.max,value:e.value}):i.value]),[[Q,e.active]])]})),{}}}),Ee=O({floating:Boolean,...W()},"VFieldLabel"),S=D()({name:"VFieldLabel",props:Ee(),setup(e,l){let{slots:a}=l;return T(()=>r(Ie,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},a)),{}}}),Me=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],je=O({appendInnerIcon:k,bgColor:String,clearable:Boolean,clearIcon:{type:k,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:k,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Me.includes(e)},"onClick:clear":A(),"onClick:appendInner":A(),"onClick:prependInner":A(),...W(),...Ce(),...we(),...ie()},"VField"),ze=D()({name:"VField",inheritAttrs:!1,props:{id:String,...Be(),...je()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,l){let{attrs:a,emit:i,slots:t}=l;const{themeClasses:n}=re(e),{loaderClasses:s}=pe(e),{focusClasses:c,isFocused:o,focus:u,blur:d}=Se(e),{InputIcon:f}=$e(e),{roundedClasses:b}=Pe(e),{rtlClasses:g}=se(),F=y(()=>e.dirty||e.active),R=y(()=>!e.singleLine&&!!(e.label||t.label)),Y=oe(),x=y(()=>e.id||`input-${Y}`),G=y(()=>`${x.value}-messages`),j=$(),_=$(),z=$(),U=y(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:J,backgroundColorStyles:Z}=Fe(ue(e,"bgColor")),{textColorClasses:q,textColorStyles:K}=Re(y(()=>e.error||e.disabled?void 0:F.value&&o.value?e.color:e.baseColor));ce(F,v=>{if(R.value){const m=j.value.$el,C=_.value.$el;requestAnimationFrame(()=>{const w=We(m),h=C.getBoundingClientRect(),V=h.x-w.x,I=h.y-w.y-(w.height/2-h.height/2),P=h.width/.75,B=Math.abs(P-w.width)>1?{maxWidth:de(P)}:void 0,te=getComputedStyle(m),X=getComputedStyle(C),ne=parseFloat(te.transitionDuration)*1e3||150,ae=parseFloat(X.getPropertyValue("--v-field-label-scale")),le=X.getPropertyValue("color");m.style.visibility="visible",C.style.visibility="hidden",De(m,{transform:`translate(${V}px, ${I}px) scale(${ae})`,color:le,...B},{duration:ne,easing:Te,direction:v?"normal":"reverse"}).finished.then(()=>{m.style.removeProperty("visibility"),C.style.removeProperty("visibility")})})}},{flush:"post"});const p=y(()=>({isActive:F,isFocused:o,controlRef:z,blur:d,focus:u}));function ee(v){v.target!==document.activeElement&&v.preventDefault()}function N(v){var m;v.key!=="Enter"&&v.key!==" "||(v.preventDefault(),v.stopPropagation(),(m=e["onClick:clear"])==null||m.call(e,new MouseEvent("click")))}return T(()=>{var V,I,P;const v=e.variant==="outlined",m=!!(t["prepend-inner"]||e.prependInnerIcon),C=!!(e.clearable||t.clear),w=!!(t["append-inner"]||e.appendInnerIcon||C),h=()=>t.label?t.label({...p.value,label:e.label,props:{for:x.value}}):e.label;return r("div",ve({class:["v-field",{"v-field--active":F.value,"v-field--appended":w,"v-field--center-affix":e.centerAffix??!U.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":m,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!h(),[`v-field--variant-${e.variant}`]:!0},n.value,J.value,c.value,s.value,b.value,g.value,e.class],style:[Z.value,e.style],onClick:ee},a),[r("div",{class:"v-field__overlay"},null),r(_e,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:t.loader}),m&&r("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&r(f,{key:"prepend-icon",name:"prependInner"},null),(V=t["prepend-inner"])==null?void 0:V.call(t,p.value)]),r("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&R.value&&r(S,{key:"floating-label",ref:_,class:[q.value],floating:!0,for:x.value,style:K.value},{default:()=>[h()]}),r(S,{ref:j,for:x.value},{default:()=>[h()]}),(I=t.default)==null?void 0:I.call(t,{...p.value,props:{id:x.value,class:"v-field__input","aria-describedby":G.value},focus:u,blur:d})]),C&&r(be,{key:"clear"},{default:()=>[H(r("div",{class:"v-field__clearable",onMousedown:B=>{B.preventDefault(),B.stopPropagation()}},[r(Ve,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[t.clear?t.clear({...p.value,props:{onKeydown:N,onFocus:u,onBlur:d,onClick:e["onClick:clear"]}}):r(f,{name:"clear",onKeydown:N,onFocus:u,onBlur:d},null)]})]),[[Q,e.dirty]])]}),w&&r("div",{key:"append",class:"v-field__append-inner"},[(P=t["append-inner"])==null?void 0:P.call(t,p.value),e.appendInnerIcon&&r(f,{key:"append-icon",name:"appendInner"},null)]),r("div",{class:["v-field__outline",q.value],style:K.value},[v&&r(fe,null,[r("div",{class:"v-field__outline__start"},null),R.value&&r("div",{class:"v-field__outline__notch"},[r(S,{ref:_,floating:!0,for:x.value},{default:()=>[h()]})]),r("div",{class:"v-field__outline__end"},null)]),U.value&&R.value&&r(S,{ref:_,floating:!0,for:x.value},{default:()=>[h()]})])])}),{controlRef:z}}});function Ze(e){const l=Object.keys(ze.props).filter(a=>!me(a)&&a!=="class"&&a!=="style");return he(e,l)}const Ue=O({...W(),...Le()},"VForm"),et=D()({name:"VForm",props:Ue(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,l){let{slots:a,emit:i}=l;const t=Oe(e),n=$();function s(o){o.preventDefault(),t.reset()}function c(o){const u=o,d=t.validate();u.then=d.then.bind(d),u.catch=d.catch.bind(d),u.finally=d.finally.bind(d),i("submit",u),u.defaultPrevented||d.then(f=>{var g;let{valid:b}=f;b&&((g=n.value)==null||g.submit())}),u.preventDefault()}return T(()=>{var o;return r("form",{ref:n,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:s,onSubmit:c},[(o=a.default)==null?void 0:o.call(a,t)])}),ke(t,n)}});export{L as B,et as V,Ze as a,ze as b,Je as c,De as d,Ye as e,ke as f,Ge as g,Qe as h,He as i,je as m,We as n,Te as s};
