import{C as m,o as _,n as i,q as s,k as a,w as u,F as h,G as q,v as n,H as E,s as o}from"./index-DnV_PQKh.js";import{_ as v,V as d}from"./index-VFRdjTNe.js";import{a as l}from"./VBtn-97_1nVse.js";import{V as C}from"./VChip-DUnmkel8.js";import"./index-DeYzNrwg.js";import"./VAvatar-BSnJ42nl.js";import"./VImg-B0vl1Cj0.js";const f={data(){return{requests:[]}},mounted(){this.requestList()},methods:{statusWord(e){switch(e){case"PROCESSING":return"в процессе";case"APPROVED":return"предварительно одобрено";case"REJECTED":return"отклонено";case"FAILED":return"ошибка запроса";case"ISSUED":return"одобрена";default:return"Неизвестный статус"}},statusFill(e){switch(e){case"PROCESSING":return"#03A9F4";case"APPROVED":return"#FFC107";case"REJECTED":return"#C62828";case"FAILED":return"#C62828";case"ISSUED":return"#4CAF50";default:return"#212121"}},async requestList(){const e={current_page:1,per_page:10,sort_by:"created_at",sort_direction:"desc"};try{const r=await m.get("client-scoring-list",{params:e});console.log("Res",r.data.data.data),this.requests=r.data.data.scoring.data}catch(r){console.error(r),alert("Что-то пошло не так")}}}},F={class:"section__request"},g={class:"section__request__action"},D={class:"section__request__row"},S={class:"section__request__item__content"},V={class:"section__request__item__content__date"},k={class:"section__request__item__content__number"},y={class:"section__request__item__content__name"};function R(e,r,I,P,p,c){return _(),i("div",F,[s("div",g,[a(l,{onClick:r[0]||(r[0]=t=>e.$router.push("/request/add")),class:"mt-4",color:"#FFED00"},{default:u(()=>[n(" Создать заявку ")]),_:1})]),s("div",D,[(_(!0),i(h,null,q(p.requests,t=>(_(),i("div",{key:t.id,class:"section__request__item",style:E(`border-color:${c.statusFill(t.status)}`)},[s("div",S,[s("div",V,[s("span",null,[a(d,{icon:"mdi-list-box"}),n(" "+o(t.id),1)]),s("span",null,[a(d,{icon:"mdi-clock-outline"}),n(" "+o(t.created_at),1)])]),s("div",k,o(t.phone),1),s("div",y,o(t.iin),1),a(C,{color:c.statusFill(t.status),variant:"elevated"},{default:u(()=>[n(o(c.statusWord(t.status)),1)]),_:2},1032,["color"])]),a(l,{color:"grey-darken-4",icon:"mdi-chevron-right",variant:"text",onClick:w=>e.$router.push(`request/${t.id}`)},null,8,["onClick"])],4))),128))])])}const O=v(f,[["render",R]]);export{O as default};
