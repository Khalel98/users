import{C as h,o as _,n as i,q as r,k as a,w as u,F as m,G as q,v as c,H as E,s as o}from"./index-DnQ6OKSw.js";import{_ as C,V as l}from"./index-CupvviZ7.js";import{a as d}from"./VBtn-C47xwbls.js";import{V as v}from"./VChip-DCmRZ6U0.js";import"./index-f6VbHwI-.js";import"./VAvatar-DODuEVSm.js";import"./VImg-DsdApsiY.js";const f={data(){return{requests:[]}},mounted(){this.requestList()},methods:{statusWord(t){switch(t){case"PROCESSING":return"в процессе";case"APPROVED":return"предварительно одобрено";case"REJECTED":return"отклонено";case"FAILED":return"ошибка запроса";case"ISSUED":return"одобрена";default:return"Неизвестный статус"}},statusFill(t){switch(t){case"PROCESSING":return"#03A9F4";case"APPROVED":return"#FFC107";case"REJECTED":return"#C62828";case"FAILED":return"#C62828";case"ISSUED":return"#4CAF50";default:return"#212121"}},getToCurrentRequest(t,s){s==="ISSUED"||s==="REJECTED"?this.$router.push(`/request/issued/${t}`):this.$router.push(`/request/${t}`)},async requestList(){const t={current_page:1,per_page:10,sort_by:"created_at",sort_direction:"desc"};try{const s=await h.get("client-scoring-list",{params:t});console.log("Res",s.data.data.data),this.requests=s.data.data.scoring.data}catch(s){console.error(s),alert("Что-то пошло не так")}}}},g={class:"section__request"},F={class:"section__request__action"},D={class:"section__request__row"},S={class:"section__request__item__content"},R={class:"section__request__item__content__date"},V={class:"section__request__item__content__number"},k={class:"section__request__item__content__name"};function y(t,s,I,P,p,n){return _(),i("div",g,[r("div",F,[a(d,{onClick:s[0]||(s[0]=e=>t.$router.push("/request/add")),class:"mt-4",color:"#FFED00"},{default:u(()=>[c(" Создать заявку ")]),_:1})]),r("div",D,[(_(!0),i(m,null,q(p.requests,e=>(_(),i("div",{key:e.id,class:"section__request__item",style:E(`border-color:${n.statusFill(e.status)}`)},[r("div",S,[r("div",R,[r("span",null,[a(l,{icon:"mdi-list-box"}),c(" "+o(e.id),1)]),r("span",null,[a(l,{icon:"mdi-clock-outline"}),c(" "+o(e.created_at),1)])]),r("div",V,o(e.phone),1),r("div",k,o(e.iin),1),a(v,{color:n.statusFill(e.status),variant:"elevated"},{default:u(()=>[c(o(n.statusWord(e.status)),1)]),_:2},1032,["color"])]),a(d,{color:"grey-darken-4",icon:"mdi-chevron-right",variant:"text",onClick:$=>n.getToCurrentRequest(e.id,e.status)},null,8,["onClick"])],4))),128))])])}const B=C(f,[["render",y]]);export{B as default};
