import{B as h,o as i,n as _,q as r,k as a,w as u,F as m,y as q,A as c,D as E,x as o}from"./index-zXi0GE6K.js";import{_ as C,V as l}from"./VIcon-BFFshrVN.js";import{V as d}from"./VBtn-Do2fdho1.js";import{V as f}from"./VChip-DsOavAwS.js";import"./VBtnToggle-BebYRqin.js";import"./index-Ba0vIHqe.js";import"./index-CylBxW8X.js";import"./VAvatar-B-E85OOo.js";const v={data(){return{requests:[]}},mounted(){this.requestList()},methods:{statusWord(t){switch(t){case"PROCESSING":return"в процессе";case"APPROVED":return"предварительно одобрено";case"REJECTED":return"отклонено";case"FAILED":return"ошибка запроса";case"ISSUED":return"одобрена";default:return"Неизвестный статус"}},statusFill(t){switch(t){case"PROCESSING":return"#03A9F4";case"APPROVED":return"#FFC107";case"REJECTED":return"#C62828";case"FAILED":return"#C62828";case"ISSUED":return"#4CAF50";default:return"#212121"}},getToCurrentRequest(t,s){s==="ISSUED"||s==="REJECTED"?this.$router.push(`/request/issued/${t}`):this.$router.push(`/request/${t}`)},async requestList(){const t={current_page:1,per_page:10,sort_by:"created_at",sort_direction:"desc"};try{const s=await h.get("client-scoring-list",{params:t});console.log("Res",s.data.data.data),this.requests=s.data.data.scoring.data}catch(s){console.error(s),alert("Что-то пошло не так")}}}},g={class:"section__request"},D={class:"section__request__action"},F={class:"section__request__row"},S={class:"section__request__item__content"},R={class:"section__request__item__content__date"},V={class:"section__request__item__content__number"},k={class:"section__request__item__content__name"};function y(t,s,I,x,p,n){return i(),_("div",g,[r("div",D,[a(d,{onClick:s[0]||(s[0]=e=>t.$router.push("/request/add")),class:"mt-4",color:"#FFED00"},{default:u(()=>[c(" Создать заявку ")]),_:1})]),r("div",F,[(i(!0),_(m,null,q(p.requests,e=>(i(),_("div",{key:e.id,class:"section__request__item",style:E(`border-color:${n.statusFill(e.status)}`)},[r("div",S,[r("div",R,[r("span",null,[a(l,{icon:"mdi-list-box"}),c(" "+o(e.id),1)]),r("span",null,[a(l,{icon:"mdi-clock-outline"}),c(" "+o(e.created_at),1)])]),r("div",V,o(e.phone),1),r("div",k,o(e.iin),1),a(f,{color:n.statusFill(e.status),variant:"elevated"},{default:u(()=>[c(o(n.statusWord(e.status)),1)]),_:2},1032,["color"])]),a(d,{color:"grey-darken-4",icon:"mdi-chevron-right",variant:"text",onClick:A=>n.getToCurrentRequest(e.id,e.status)},null,8,["onClick"])],4))),128))])])}const O=C(v,[["render",y]]);export{O as default};
